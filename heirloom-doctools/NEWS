New features in the Heirloom Documentation Tools troff language
===============================================================

Unless otherwise noted, new features become effective with the -x option
only. In the future, the -x option may become the default; the -X option
can be used to deactivate new features for compatibility reasons.

.chop name
	removes the last character of the macro, string, or diversion
	"name".

.de longname
.ds longname
.nr longname
	The names of macros, strings, and number registers can be longer
	than two characters now.

.ev name
	Environments can be named, or be given an arbitrary number.

.evc name
	copies the environment "name" into the current environment.
	The temporary state of the current environment is reset, and
	incompletely filled lines are discarded.

.fallback ff aa bb ...					troff only
	selects the fallback sequence for font ff. If the current font
	is ff and a character is not found, font aa is searched first,
	then font bb, etc. If the character still has not been found,
	it is searched for in font S, then in font 0, 1, and so forth.

.flig ff ligatures					troff only
	defines the set of ligatures to be used with font ff. The
	"ligatures" parameter is the sum of the values 1 for ff, 2 for
	fi, 4 for fl, 8 for ffi, and 16 for ffl. Thus ".flig R 31"
	enables all these ligatures in font R. The default is specific
	to a font and is determined from its AFM file. Enabling the ff,
	ffi, and ffl ligatures with PostScript fonts usually requires
	an expert font that has been selected for character substitution
	using the ".fallback" request.

.fpost r yy afmname [supplyname]			troff only
	reads metrics from "afmname". If the TROFFONTS environment variable
	is set, each of the colon-separated directories in it is tried for
	the file "afmname.afm", or, if "afmname" has the ".afm" extension
	itself, for "afmname". Otherwise, the font is loaded from the file
	"/usr/ucblib/doctools/font/dev7200/afm/afmname.afm".
	  The font is then available with ".ft yy", "\f(yy", etc. "yy" may
	be freely chosen. The "r" argument specifies a register on which
	the font is to be mounted. If it is zero, the font is mounted on
	a free position (not on position zero). Contrasting to the ".fp"
	request, the "r" argument may consist of more than a single digit.
	  "yy" may be the name of an existing ditroff-style font, such
	as "R". In this case, the same register must be reused. For best
	compatibility with conventional troff usage, it is recommended
	that the base fonts of a document are mounted as "1 R", "2 I".
	The initial fonts on positions 9 (S1) and 10 (S) should not be
	changed, as these contain special metrics for drawing commands.
	  If the optional "supplyname" argument is present, glyph data
	is included in the generated PostScript file. If "supplyname"
	is one of "pfb", "pfa", or "t42", the file "supplyname.pfb" (or
	likewise) is searched in the directories in TROFFONTS first as
	described for the AFM file above, and if it is not found there,
	in "/usr/ucblib/doctools/font/dev7200/pfb/supplyname.pfb" (or
	likewise). "supplyname" may also be the basename of a file like
	"afmname" above.

.fzoom ff z						troff only
	zooms font ff by "z", where "z" is a positive floating-point
	number. This request is useful for adjusting fonts with different
	visual sizes but identical nominal points; the zoom is thus not
	applied to characters from another font that have been found by
	the fallback sequence.

.hidechar ff c d ...					troff only
	hides the characters c, d, etc. from font ff. If the characters
	appear in input afterwards, they are searched in other fonts
	using the fallback sequence. This is useful e.g. for combining
	characters from a regular and an expert font.

.hylang language
	Sets the hyphenation language to "language", where language
	is one of de_DE, de_DE@traditional, en_US, fr_FR, or la_VA
	(some alternative country codes are also provided). Other
	languages can be made available by adding hyphenation files to
	the directory /usr/ucblib/doctools/hyphen; the file format is
	the same as for OpenOffice <http://www.openoffice.org>. Currently
	only hyphenation files that use the "ISO8859-1" character
	encoding are supported. If no "language" argument is present,
	the hyphenation is reset to the traditional troff mechanism.
	Note that hyphenation is disabled by default if troff is used
	directly, and can be switched on using the ".hy" request, which
	is what many macro packages do.

.kern [0|1]						troff only
	Disables (0) or enables pairwise kerning. The default is enabled
	with the -x option, and otherwise disabled.

.lc_ctype localename
	sets the LC_CTYPE locale setting to localename. The default is
	the value of the LC_CTYPE environment variable. This request is
	useful to specify an input character set regardless of environment
	influences.

.return
	immediately returns from the current macro to the level above.

.ss n m							troff only
	with the second argument "m" determines whether additional white
	space is added between sentences. If m is zero, no additional
	white space is added. Otherwise, a space of size n is added as
	usual.

.tkf ff s1 n1 s2 n2					troff only
	specifies tracking of letter space for font ff. If the current font
	is ff and the point size is below or equal to s1, white space of
	width n1 is added to each character. If the point size is above or
	equal to s2, white space of width n2 is added. If the point size
	is between s1 and s2, the amount of white space added is computed
	as a value between n1 and n2 using the current point size s:
	(s * n2 - s * n1 + s2 * n1 - s1 * n2) / (s2 - s1). The default unit
	for all numeric arguments is "p". Negative numbers are accepted and
	cause a decrease of letter space. Tracking also applies to haracters
	from another font that have been selected by the fallback sequence.

\$*
	prints all arguments to a macro, separated by spaces.

\$@
	prints all arguments to a macro, each one surrounded by double
	quotes, separated by spaces.

\*[name]
	refers to the string "name".

\:
	is similar to "\%", but only inserts an optional line break and
	does not cause a hyphen to be printed if the line is split.

\[name]							troff only
	selects the character "name" as defined in the .afm file for the
	current font.

\E
	is similar to "\e", but is not interpreted in copy mode.

\n[name]
	refers to the number register "name".

\~
	is similar to "\ ", but inserts space that stretches when the
	line is adjusted like a regular " ".

any character in the current LC_CTYPE locale
	In nroff, any printable character is just passed through.
	In troff, the character is converted to a PostScript character
	name. If it is found in the current font, it is printed.
	Otherwise, the .fallback sequence is searched for it. This
	mechanism only works with fonts mounted by the .fpost request.

\X'Sync'						troff only
	forces dpost to write position and font information to the
	generated PostScript exactly at the place where this escape
	sequence occurs. This is sometimes useful to ensure that
	following "\X'PS: ...'" commands work as expected.

Gunnar Ritter                                                   8/27/05
