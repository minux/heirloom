README file for the Heirloom Documentation Tools
================================================

The Heirloom Documentation Tools provide troff, nroff, and related
utilities to format manual pages and other documents for output on
terminals and printers. They are portable and enhanced versions of
the utilities released by Sun as part of OpenSolaris, and, for pic,
grap, and some minor parts, by Lucent as part of Plan 9.

nroff is most prominently used to format Unix manual pages for viewing
them on a terminal. This implementation consumes relatively few system
resources and is thus suitable for small system distributions. It has
been enhanced to generate UTF-8 output.

troff generates typesetter output from the same document source code as
nroff. Thus a special use of it is to prepare manual pages for printing.
troff is a general-purpose typesetting processor, though. Significant
features have been added in this implementation; see the files "NEWS",
"FONTS", and "PDFS" for details.

Currently, troff is almost exclusively targeted at generating output
for PostScript interpreters. Its principal device independence has
been retained, though; the intermediate output language is largely
unchanged. The troff driver for the Autologic APS-5 is still included.
It is untested and will likely vanish from this package unless somebody
complains and is willing and able to support it.

The source code is known to compile on:

Linux		glibc, diet libc
Solaris		9 and above
HP-UX		B.11.11 and above
AIX		5.1
FreeBSD		5.4
NetBSD		2.0

New releases of this project are announced on Freshmeat. If you want to
get notified by email on each release, use their subscription service at
<http://freshmeat.net/projects/doctools/>.

To build and install, see the settings in the "mk.config" and adjust
them if necessary. You can also build a RPM package with the command
"rpmbuild -tb heirloom-doctools-<version>.tar.bz2".

troff currently reads several binary files which are built during
the compilation process. It is thus not possible to cross-compile.

The locale-dependent character input in troff assumes that the C library
represents wchar_t values as Unicode characters. This is the case on any
modern Unix system.

In order to use the utilities for formatting manual pages, note the
following:

- You will normally want to use "nroff -Tlp". By default, nroff generates
  output for a Teletype Model 37 with half-line capabilities which will
  lead to weird results with any xterm or CRT terminal.

- Another choice is "nroff -Tlocale". This will generate UTF-8 output if
  permitted by the current setting of the LC_CTYPE locale, and the same
  as "nroff -Tlp" otherwise. UTF-8 output looks nicer and helps to spot
  out typesetting errors in manual pages like using "-" instead of "\-",
  so it is recommended for developers. (End users might prefer to wait
  some time until more of the many pages which do this wrong have been
  fixed.)

- Macro names are normally restricted to two characters for compatibility
  with previous versions of nroff. With "nroff -x", long macro names are
  accepted. You will normally want to enable this because you are much
  more likely to encounter manual pages written with groff in mind than
  manual pages that require strict Unix compatibility.

- You need to filter the output of nroff through "col -x". 

- The terminal descriptions for "-Tlp" and "-Tlocale" are built-in with
  nroff. For a small system distribution, it is thus not necessary to
  install the "nterm" directory.

- You need at least the "an" macro file to format manual pages. If
  you also want to use the Berkeley "doc" macros, you also need
  "doc*" and "andoc". "nroff -mandoc" will then switch automatically
  between the two macro packages.

- Thus a complete pipeline to format manual pages for viewing is:
  tbl input.1 | neqn | nroff -x -Tlp -mandoc | col -x

- To print manual pages with troff, use
  tbl input.1 | eqn | troff -x -mandoc | dpost | lp

- You should of course configure your "man" command such that it
  executes these pipelines automatically for you.

The project homepage is currently at <http://heirloom.sourceforge.net>.

Report bugs to

Gunnar Ritter
Freiburg i. Br.
Germany
<http://heirloom.sourceforge.net>
<gunnarr@acm.org>						10/25/05
